% pie2e.sty  Feb. 19, 1998  Shun-ichi Ito
% (Takayuki Yamaizumi さん作 ``pie.sty'' を LaTeX 2e 用に改変)
% pie.sty にあって pie2e.sty にないマクロ定義を復活させてみました。
% (March 9, 1998 Takayuki Yamaizumi)
% Modified by Michał "phoe" Herda, October 1, 2019.
% Modified by Sighery, January 19, 2026.
%
%      \usepackage{pie2e}

\RequirePackage{graphicx}

% Global tile size
\newcommand{\tilesize}{1.2em}
\newcommand{\tilelabelx}{3pt}
\newcommand{\tilelabely}{\dimexpr\tilesize+1pt\relax}
\newcommand{\mtileheight}{\dimexpr\tilesize + 0.4em\relax}
\newcommand{\tilelabel}[1]{\scalebox{0.5}{\bfseries #1}}

\newcommand{\tilebox}[3]{%
  % #1 = overpic options
  % #2 = file path
  % #3 = tile label
  % #4 = tile number
  \begingroup
    \setlength{\fboxsep}{0pt}%
    \setlength{\fboxrule}{0.4pt}%
    \raisebox{0pt}[\mtileheight][0pt]{%
      \smash{%
        \fcolorbox{black}{white}{%
          \begin{overpic}[#1]{#2}%
            \put(\tilelabelx, \tilelabely){\tilelabel{#3}}%
          \end{overpic}%
        }%
      }%
    }%
  \endgroup
}

% Bamboo
\newcommand{\suo}[1]{%
  \tilebox{height=\tilesize}{tiles/Export/Regular/Sou#1.pdf}{#1}%
}

\newcommand{\yisuo}{\suo{1}}
\newcommand{\ersuo}{\suo{2}}
\newcommand{\sansuo}{\suo{3}}
\newcommand{\sisuo}{\suo{4}}
\newcommand{\wusuo}{\suo{5}}
\newcommand{\liusuo}{\suo{6}}
\newcommand{\qisuo}{\suo{7}}
\newcommand{\pasuo}{\suo{8}}
\newcommand{\jiusuo}{\suo{9}}
% Red 5
\newcommand{\chiwusuo}{%
  \tilebox{height=\tilesize}{tiles/Export/Regular/Sou5-Dora.pdf}{5}%
}

% Rotated
\newcommand{\rsuo}[1]{%
  \tilebox{height=\tilesize,angle=90}{tiles/Export/Regular/Sou#1.pdf}{#1}%
}

\newcommand{\ryisuo}{\rsuo{1}}
\newcommand{\rersuo}{\rsuo{2}}
\newcommand{\rsansuo}{\rsuo{3}}
\newcommand{\rsisuo}{\rsuo{4}}
\newcommand{\rwusuo}{\rsuo{5}}
\newcommand{\rliusuo}{\rsuo{6}}
\newcommand{\rqisuo}{\rsuo{7}}
\newcommand{\rpasuo}{\rsuo{8}}
\newcommand{\rjiusuo}{\rsuo{9}}
% Red 5 rotated
\newcommand{\rchiwusuo}{%
  \tilebox{height=\tilesize,angle=90}{tiles/Export/Regular/Sou5-Dora.pdf}{5}%
}


% Pin
\newcommand{\tong}[1]{%
  \tilebox{height=\tilesize}{tiles/Export/Regular/Pin#1.pdf}{#1}%
}

\newcommand{\yitong}{\tong{1}}
\newcommand{\ertong}{\tong{2}}
\newcommand{\santong}{\tong{3}}
\newcommand{\sitong}{\tong{4}}
\newcommand{\wutong}{\tong{5}}
\newcommand{\liutong}{\tong{6}}
\newcommand{\qitong}{\tong{7}}
\newcommand{\patong}{\tong{8}}
\newcommand{\jiutong}{\tong{9}}
% Red 5
\newcommand{\chiwutong}{%
  \tilebox{height=\tilesize}{tiles/Export/Regular/Pin5-Dora.pdf}{5}%
}

% Rotated
\newcommand{\rtong}[1]{%
  \tilebox{height=\tilesize,angle=90}{tiles/Export/Regular/Pin#1.pdf}{#1}%
}

\newcommand{\ryitong}{\rtong{1}}
\newcommand{\rertong}{\rtong{2}}
\newcommand{\rsantong}{\rtong{3}}
\newcommand{\rsitong}{\rtong{4}}
\newcommand{\rwutong}{\rtong{5}}
\newcommand{\rliutong}{\rtong{6}}
\newcommand{\rqitong}{\rtong{7}}
\newcommand{\rpatong}{\rtong{8}}
\newcommand{\rjiutong}{\rtong{9}}
% Red 5 rotated
\newcommand{\rchiwutong}{%
  \tilebox{height=\tilesize,angle=90}{tiles/Export/Regular/Pin5-Dora.pdf}{5}%
}

% Characters
\newcommand{\wan}[1]{%
  \tilebox{height=\tilesize}{tiles/Export/Regular/Man#1.pdf}{#1}%
}

\newcommand{\yiwan}{\wan{1}}
\newcommand{\erwan}{\wan{2}}
\newcommand{\sanwan}{\wan{3}}
\newcommand{\siwan}{\wan{4}}
\newcommand{\wuwan}{\wan{5}}
\newcommand{\liuwan}{\wan{6}}
\newcommand{\qiwan}{\wan{7}}
\newcommand{\pawan}{\wan{8}}
\newcommand{\jiuwan}{\wan{9}}
% Red 5
\newcommand{\chiwuwan}{%
  \tilebox{height=\tilesize}{tiles/Export/Regular/Man5-Dora.pdf}{5}%
}

% Rotated
\newcommand{\rwan}[1]{%
  \tilebox{height=\tilesize,angle=90}{tiles/Export/Regular/Man#1.pdf}{#1}%
}

\newcommand{\ryiwan}{\rwan{1}}
\newcommand{\rerwan}{\rwan{2}}
\newcommand{\rsanwan}{\rwan{3}}
\newcommand{\rsiwan}{\rwan{4}}
\newcommand{\rwuwan}{\rwan{5}}
\newcommand{\rliuwan}{\rwan{6}}
\newcommand{\rqiwan}{\rwan{7}}
\newcommand{\rpawan}{\rwan{8}}
\newcommand{\rjiuwan}{\rwan{9}}
% Red 5 rotated
\newcommand{\rchiwuwan}{%
  \tilebox{height=\tilesize,angle=90}{tiles/Export/Regular/Man5-Dora.pdf}{5}%
}

% East Wind
\newcommand{\dong}{%
  \tilebox{height=\tilesize}{tiles/Export/Regular/Ton.pdf}{E}%
}
\newcommand{\rdong}{%
  \tilebox{height=\tilesize,angle=90}{tiles/Export/Regular/Ton.pdf}{E}%
}

% South Wind
\newcommand{\nan}{%
  \tilebox{height=\tilesize}{tiles/Export/Regular/Nan.pdf}{S}%
}
\newcommand{\rnan}{%
  \tilebox{height=\tilesize,angle=90}{tiles/Export/Regular/Nan.pdf}{S}%
}

% West Wind
\renewcommand{\xi}{%
  \tilebox{height=\tilesize}{tiles/Export/Regular/Shaa.pdf}{W}%
}
\newcommand{\rxi}{%
  \tilebox{height=\tilesize,angle=90}{tiles/Export/Regular/Shaa.pdf}{W}%
}

% North Wind
\newcommand{\bei}{%
  \tilebox{height=\tilesize}{tiles/Export/Regular/Pei.pdf}{N}%
}
\newcommand{\rbei}{%
  \tilebox{height=\tilesize,angle=90}{tiles/Export/Regular/Pei.pdf}{N}%
}

% White Dragon
\newcommand{\bai}{%
  \tilebox{height=\tilesize}{tiles/Export/Regular/Haku.pdf}{Wh}%
}
\newcommand{\rbai}{%
  \tilebox{height=\tilesize,angle=90}{tiles/Export/Regular/Haku.pdf}{Wh}%
}

% Green Dragon
\newcommand{\fa}{%
  \tilebox{height=\tilesize}{tiles/Export/Regular/Hatsu.pdf}{G}%
}
\newcommand{\rfa}{%
  \tilebox{height=\tilesize,angle=90}{tiles/Export/Regular/Hatsu.pdf}{G}%
}

% Red Dragon
\newcommand{\zhong}{%
  \tilebox{height=\tilesize}{tiles/Export/Regular/Chun.pdf}{R}%
}
\newcommand{\rzhong}{%
  \tilebox{height=\tilesize,angle=90}{tiles/Export/Regular/Chun.pdf}{R}%
}

% Tile back (ura)
\newcommand{\ura}{%
  \tilebox{height=\tilesize}{tiles/Export/Regular/Back.pdf}{}%
}
\newcommand{\rura}{%
  \tilebox{height=\tilesize,angle=90}{tiles/Export/Regular/Back.pdf}{}%
}

% Triplet (pon)
\newcommand{\kotsu}[1]{#1#1#1}
% Open kan
\newcommand{\minkan}[1]{#1#1#1#1}
% Closed kan (ura on ends)
\newcommand{\ankan}[1]{\ura#1#1\ura}
% Pair
\newcommand{\toitsu}[1]{#1#1}
% Head (same as pair)
\newcommand{\atama}[1]{#1#1}

\endinput
